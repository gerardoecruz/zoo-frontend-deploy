(this["webpackJsonpzoo-management"]=this["webpackJsonpzoo-management"]||[]).push([[0],{250:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(16),o=a.n(i),s=a(26),r=a(20),l=a(7),d=a.p+"static/media/zoo.c40cb5df.jpg",j=a.p+"static/media/home_elephant.5cbc5780.jpg",h=a.p+"static/media/home_bird.679bf162.jpg",u=a.p+"static/media/home_monkey.42150678.jpg",b=a.p+"static/media/home_penguin.5f4b3f5a.jpg",m=a.p+"static/media/home_tiger.3e7c7b0f.jpg",O=a(252),x=a(295),p=a(299),g=a(300),f=a(302),_=a(301),v=a(1);var y=function(){var e=c.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],i=c.a.useRef(null),o=c.a.useRef(a);c.a.useEffect((function(){!0===o.current&&!1===a&&i.current.focus(),o.current=a}),[a]);var r=[{img:d,cols:2,featured:!0},{img:h,cols:2},{img:j,cols:2},{img:u,cols:2},{img:b,cols:2},{img:m,cols:2}],y=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:"transparent",position:"absolute",width:"80%",height:"400%",fontColor:"#194d33",fontSize:"27px"},paper:{width:"350px",padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}})),C=Object(x.a)((function(e){return{root:{display:"flex",justify:"center",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"80%",height:"350%"},icon:{color:"rgba(255, 255, 255, 0.54)"}}})),k=(y(),C());return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(O.a,{component:s.b,to:"/enclosure",style:{position:"relative",width:"25%",borderRadius:5,backgroundColor:"white",padding:"7px 26px",fontSize:"16px",fontWeight:"bold"},variant:"contained",color:"white",ref:i,onClick:function(){n((function(e){return!e}))},children:"Enclosures"}),Object(v.jsx)("div",{className:k.root,children:Object(v.jsxs)(p.a,{cellHeight:350,className:k.gridList,children:[Object(v.jsx)(g.a,{cols:1,style:{height:"auto"},children:Object(v.jsx)(_.a,{component:"div"})},"Subheader"),r.map((function(e){return Object(v.jsxs)(g.a,{cols:e.cols||1,children:[Object(v.jsx)("img",{src:e.img,alt:e.title}),Object(v.jsx)(f.a,{style:{backgroundColor:"transparent"},title:e.title})]},e.img)}))]})})]})})})},C=a(303),k=a(304),S=a(305),w=a(170),N=a(306),A=Object(n.createContext)(),I=function(e){var t=e.children,a=Object(n.useState)({name:sessionStorage.getItem("username"),auth:"true"===sessionStorage.getItem("auth"),role:sessionStorage.getItem("role"),userID:sessionStorage.getItem("userID")}),c=Object(l.a)(a,2),i=c[0],o=c[1];return Object(v.jsx)(A.Provider,{value:{user:i,login:function(e,t,a){o((function(){return{name:e,auth:!0,role:t,userID:a}})),sessionStorage.setItem("username",e),sessionStorage.setItem("auth",!0),sessionStorage.setItem("role",t),sessionStorage.setItem("userID",a)},logout:function(){o((function(){return{name:"guest",auth:!1}})),sessionStorage.setItem("username","guest"),sessionStorage.setItem("auth",!1),sessionStorage.setItem("role",null),sessionStorage.setItem("userID",null)}},children:t})},T=a(29),E=a(326),D=a(144),z=a(92),F=a.n(z),R=a(10),M=a.n(R);var B=function(){var e=Object(n.useContext)(A).user,t=Object(n.useState)(0),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(0),s=Object(l.a)(o,2),d=s[0],j=s[1],h=Object(n.useState)(0),u=Object(l.a)(h,2),b=u[0],m=u[1],x=Object(n.useState)(!1),p=Object(l.a)(x,2),g=p[0],f=p[1],_=Object(n.useState)(F()(new Date).format("MM-DD-YYYY")),y=Object(l.a)(_,2),I=y[0],z=y[1];function R(){i(0),j(0),m(0),f(!1),z(F()(new Date).format("MM-DD-YYYY"))}var B=Object(r.f)(),q=function(e){console.log("purchasing tickets..."),M.a.post("https://zoo-backend-test.herokuapp.com/purchasehistory",{item_purchased:e.item_purchased,customer_id:e.customer_id,quantity_purchased:e.quantity_purchased,total_purchase_cost:e.total_purchase_cost,purchase_time:e.purchase_time,ticket_date:e.ticket_date}).then((function(e){console.log(e)})).catch((function(e){console.log(e),alert("failed!")}))};function P(t,a,n,c){this.item_purchased=t,this.customer_id=e.userID,this.quantity_purchased=a,this.total_purchase_cost=a*n,this.purchase_time=new Date,this.ticket_date=c}var W=function(e){var t=e.name,a=e.age,n=e.price,c=e.ticketCount,i=e.setTicketCount;return Object(v.jsx)(C.a,{item:!0,xs:6,children:Object(v.jsx)(k.a,{className:"ticketCard",variant:"outlined",children:Object(v.jsxs)(S.a,{children:[Object(v.jsx)(w.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(v.jsx)(w.a,{gutterBottom:!0,variant:"h6",component:"h2",children:a}),Object(v.jsx)(w.a,{variant:"h5",component:"h2",children:n}),Object(v.jsx)(w.a,{className:"taxIncludedText",color:"textSecondary",children:"tax included."}),Object(v.jsxs)(N.a,{size:"small","aria-label":"small outlined button group",children:[Object(v.jsx)(O.a,{onClick:function(){return function(e,t){t(e-1<0?0:e-1)}(c,i)},children:"-"}),Object(v.jsx)(O.a,{color:"primary",children:c}),Object(v.jsx)(O.a,{onClick:function(){return i(c+1)},children:"+"})]})]})})})};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Tickets"}),Object(v.jsxs)(C.a,{container:!0,spacing:4,children:[Object(v.jsx)(W,{name:"Adult Ticket",age:"Age 18+",price:"$10",ticketCount:c,setTicketCount:i}),Object(v.jsx)(W,{name:"Child Ticket",age:"Age 3-17",price:"$5",ticketCount:d,setTicketCount:j})]}),Object(v.jsx)(T.a,{utils:D.a,children:Object(v.jsx)(E.a,{label:"date",value:I,onChange:function(e){z(F()(e).format("MM-DD-YYYY"))},disablePast:!0})}),Object(v.jsx)("br",{}),Object(v.jsx)(O.a,{className:"purchaseButton",variant:"outlined",color:"primary",onClick:function(){m(5*d+10*c),f(!0)},children:"Purchase"}),g&&0!==b&&Object(v.jsxs)("div",{children:[Object(v.jsxs)("h3",{children:["Your total cost is: $",b]}),Object(v.jsx)(O.a,{variant:"outlined",color:"primary",onClick:function(){e.auth?(alert(c+" adult ticket(s) "+d+" child ticket(s) on "+I+" for $"+b),c>0&&(q(new P(8,c,10,I)),console.log(new P(8,c,10,I))),d>0&&(q(new P(7,d,5,I)),console.log(new P(7,d,5,I))),R()):B.push("/login")},children:"Confirm"}),Object(v.jsx)(O.a,{variant:"outlined",onClick:R,children:"Cancel"})]})]})},q=a(312),P=a(315),W=a(313),L=a(314),Y=(a.p,a.p,a.p,a.p,a.p,a.p,a(330)),H=a(316),V=a(307),Z=a(308),$=a(311),U=a(27),G=a(328),J=Object(x.a)({listCategory:{textTransform:"uppercase",fontWeight:"bold",paddingTop:"10px"},divider:{height:"5px",backgroundColor:"green",width:"100%"},grid:{padding:"10px"}}),Q=Object(x.a)({root:{width:"280px",display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{height:140}}),K=function(e){var t=e.name,a=e.description,n=e.image,c=e.id,i=Object(r.g)().url,o=Q();return Object(v.jsx)("div",{children:Object(v.jsxs)(k.a,{className:o.root,children:[Object(v.jsx)("div",{children:Object(v.jsxs)(q.a,{children:[Object(v.jsx)(W.a,{className:o.media,image:n,title:"Contemplative Reptile"}),Object(v.jsxs)(S.a,{children:[Object(v.jsx)(w.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(v.jsx)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:a})]})]})}),Object(v.jsx)("div",{children:Object(v.jsx)(L.a,{style:{textDecoration:"none"},href:"".concat(i,"/").concat(c),children:Object(v.jsx)(P.a,{children:Object(v.jsx)(O.a,{size:"small",color:"primary",children:"Learn More"})})})})]})})},X=function(){var e=J(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useContext)(A).user,s=Object(n.useState)(null),r=Object(l.a)(s,2),d=r[0],j=(r[1],Object(n.useState)(!1)),h=Object(l.a)(j,2),u=h[0],b=h[1],m=Object(n.useState)(!1),x=Object(l.a)(m,2),p=x[0],g=x[1],f=function(){b(!1)},_=Object(n.useState)(""),y=Object(l.a)(_,2),k=y[0],S=y[1],N=Object(n.useState)("Enclosure"),I=Object(l.a)(N,2),T=I[0];I[1];return Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/locations/all_enclosures").then((function(e){console.log(e),console.log(e.data),i(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(v.jsxs)("div",{className:e.categoryContainer,children:[Object(v.jsx)(w.a,{className:e.listCategory,children:"Enclosures"}),Object(v.jsx)(C.a,{direction:"row",container:!0,spacing:2,className:e.grid,children:c.map((function(e,t){return Object(v.jsx)(C.a,{item:!0,children:Object(v.jsx)(K,{name:e.location_name,image:"/uploads/".concat(e.location_image),id:e.location_id})},t)}))}),"Admin"==o.role?Object(v.jsx)(C.a,{item:!0,children:Object(v.jsx)(O.a,{variant:"contained",onClick:function(){b(!0)},children:"Add Enclosure"})}):null,Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:u,onClose:f,children:[Object(v.jsx)(H.a,{children:"Add New Enclosure"}),Object(v.jsx)(V.a,{children:Object(v.jsxs)(C.a,{container:!0,spacing:1,direction:"column",className:e.root,children:[Object(v.jsx)(w.a,{className:e.formTitle}),d?Object(v.jsx)(G.a,{severity:"error",style:{paddingBottom:"10px"},children:d}):null,Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Name",id:"location_name",onChange:function(e){S(e.target.value)},name:"location_name",variant:"outlined",style:{width:"100%"}})}),Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsxs)(O.a,{variant:"contained",component:"label",children:["Upload File",Object(v.jsx)("input",{id:"file",name:"location_name",type:"file",onChange:function(e){g(e.target.files[0])}})]})})]})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){var e=new FormData;e.append("location_name",k),e.append("location_type",T),e.append("location_image",p),M.a.post("https://zoo-backend-test.herokuapp.com/locations",e).then((function(e){console.log(e)})).catch((function(e){console.log(e.response),console.log("Errors: ",e.response.data);e.response.data.errors}))},variant:"contained",color:"secondary",children:"Save"}),Object(v.jsx)(O.a,{onClick:f,variant:"contained",color:"secondary",children:"CANCEL"})]})]})})]})},ee=Object(x.a)((function(e){return{root:{padding:e.spacing(1),width:"50ch",position:"fixed",top:"25%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",marginTop:e.spacing(2)},formTitle:{fontWeight:"bold",textTransform:"uppercase"},signUp:{float:"left"}}}));var te=function(e){var t=ee(),a=Object(n.useContext)(A).login,c=Object(n.useState)(null),i=Object(l.a)(c,2),o=i[0],s=i[1],d=Object(r.f)(),j=Object(U.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.full_name||(t.password="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.email.length>25&&(t.email="Max 25 characters"):t.email="Invalid email address":t.email="Required",e.password.length<4&&(t.password="Minimum 4 characters"),t},onSubmit:function(e){!function(e){M.a.post("https://zoo-backend-test.herokuapp.com/signup",{full_name:e.full_name,email:e.email,password:e.password,role_id:"Customer"}).then((function(e){console.log(e),a(e.data.full_name,e.data.role_id,e.data.user_id),d.push("/")})).catch((function(e){console.log(e.response),console.log("Errors: ",e.response.data);var t=e.response.data.errors,a={email:"",password:""};Array.isArray(t)?(t.forEach((function(e){a[e.param]=e.msg})),m(a)):s(e.response.data.error)}))}(e)}}),h=Object(n.useState)({email:"",password:""}),u=Object(l.a)(h,2),b=u[0],m=u[1];return Object(v.jsxs)(C.a,{container:!0,spacing:1,direction:"column",className:t.root,children:[Object(v.jsx)(w.a,{className:t.formTitle,children:"Sign Up"}),o?Object(v.jsx)(G.a,{severity:"error",style:{paddingBottom:"10px"},children:o}):null,Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Full Name",id:"full_name",onChange:j.handleChange,name:"full_name",variant:"outlined",style:{width:"100%"},error:b.full_name||j.errors.full_name,helperText:""!==b.full_name?b.full_name:""!==j.errors.full_name?j.errors.full_name:""})}),e.createEmployee?Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Email",id:"email",onChange:j.handleChange,name:"email",variant:"outlined",style:{width:"100%"},error:b.email||j.errors.email,helperText:""!==b.email?b.email:""!==j.errors.email?j.errors.email:""})}):null,Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Email",id:"email",onChange:j.handleChange,name:"email",variant:"outlined",style:{width:"100%"},error:b.email||j.errors.email,helperText:""!==b.email?b.email:""!==j.errors.email?j.errors.email:""})}),Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Password",id:"password",name:"password",onChange:j.handleChange,variant:"outlined",style:{width:"100%"},error:b.password||j.errors.password,helperText:""!==b.password?b.password:""!==j.errors.password?j.errors.password:""})}),Object(v.jsx)(O.a,{onClick:j.handleSubmit,variant:"contained",size:"large",color:"primary",children:"Sign Up"})]})},ae=Object(x.a)((function(e){return{root:{padding:e.spacing(1),width:"50ch",position:"fixed",top:"25%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",marginTop:e.spacing(2)},formTitle:{fontWeight:"bold",textTransform:"uppercase"},signUp:{float:"left"}}})),ne=function(e){var t=ae(),a=Object(n.useContext)(A).login,c=Object(r.f)(),i=Object(n.useState)(null),o=Object(l.a)(i,2),s=o[0],d=o[1],j=Object(U.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.email.length>25&&(t.email="Max 25 characters"):t.email="Invalid email address":t.email="Required",e.password.length<4&&(t.password="Minimum 4 characters"),t},onSubmit:function(e){!function(e){M.a.post("https://zoo-backend-test.herokuapp.com/login",{email:e.email,password:e.password}).then((function(e){console.log(e),a(e.data.full_name,e.data.role_id,e.data.user_id),console.log("Login successful"),c.push("/")})).catch((function(e){console.log(e.response),d(e.response.data.error)}))}(e)}});return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(C.a,{container:!0,spacing:1,direction:"column",className:t.root,children:[Object(v.jsx)(w.a,{className:t.formTitle,children:"Log In"}),s?Object(v.jsx)(G.a,{severity:"error",style:{paddingBottom:"10px"},children:s}):null,Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Username",id:"email",onChange:j.handleChange,name:"email",variant:"outlined",style:{width:"100%"},error:j.errors.email,helperText:""!==j.errors.email?j.errors.email:""})}),Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Password",id:"password",name:"password",onChange:j.handleChange,variant:"outlined",style:{width:"100%"},error:j.errors.password,helperText:""!==j.errors.password?j.errors.password:""})}),Object(v.jsx)(O.a,{onClick:j.handleSubmit,variant:"contained",size:"large",color:"primary",children:"Log In"})]})})},ce=(a(11),a(18)),ie=a(255),oe=a(261),se=a(253),re=a(256),le=a(258),de=a(331),je=a(317),he=a(169),ue=a(318),be=a(319),me=a(320),Oe=a(321),xe=a(322),pe=a(3),ge=Object(x.a)((function(e){return{root:{width:"900px",variant:"contained",position:"right",border:"3px solid #4A90E2",borderColor:"gray",color:"black",align:"right",minWidth:50,"& .MuiTextField-root":{margin:e.spacing(4),width:"10ch"}}}})),fe=Object(x.a)({select:{minWidth:150},errMessage:{color:"red"}}),_e=function(){var e=fe(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)([]),s=Object(l.a)(o,2),r=s[0],d=s[1],j=Object(n.useState)([]),h=Object(l.a)(j,2),u=h[0],b=h[1],m=Object(n.useState)({date_arrived:null,deceased_date:null,birth_date:null,location:"",animal_name:""}),x=Object(l.a)(m,2);x[0],x[1];Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/locations/all_enclosures").then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.log(e)})),M.a.get("https://zoo-backend-test.herokuapp.com/species").then((function(e){console.log(e.data),d(e.data)})).catch((function(e){console.log(e)}))}),[]);var p=Object(n.useState)({investigator:"",checked:!0,purchase:"",enclosure:"",animal:"",customer:"",dateFrom:"",dateTo:""}),g=Object(l.a)(p,2),f=(g[0],g[1],Object(U.a)({initialValues:{date_arrived:"",deceased_date:null,birth_date:"",location:"",animal_name:"",species:""},validate:function(e){var t={};return e.animal_name||(t.animal_name="Required"),e.location||(t.location="Required"),e.date_arrived||(t.date_arrived="Required"),e.birth_date||(t.birth_date="Required"),e.species||(t.species="Required"),t},onSubmit:function(e){!function(e){console.log("handleSubmit called"),M.a.post("https://zoo-backend-test.herokuapp.com/animals",{date_arrived:e.date_arrived,deceased_date:e.deceased_date,birth_date:e.birth_date,location:e.location,animal_name:e.animal_name,species:e.species}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(e)}})),_=Object(U.a)({initialValues:{date_from:"",date_to:"",species:"",health_status:""},onSubmit:function(e){M.a.post("https://zoo-backend-test.herokuapp.com/login/employee_report",e).then((function(e){b(e.data)})).catch((function(e){console.log(e)}))}}),y=ge();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("form",{className:"form",children:[Object(v.jsx)(w.a,{children:"Add Animal to Zoo"}),Object(v.jsxs)(C.a,{container:!0,spacing:2,style:{padding:"10px"},children:[Object(v.jsx)(C.a,{item:!0,children:Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{htmlFor:"name",children:"Name"}),Object(v.jsx)(se.a,{id:"name",onChange:f.handleChange,name:"animal_name",error:f.errors.animal_name}),Object(v.jsx)(re.a,{className:e.errMessage,children:f.errors.animal_name})]})}),Object(v.jsx)(C.a,{item:!0,children:Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"enclosureName",children:"Enclosure Name"}),Object(v.jsx)(le.a,{labelId:"enclosureName",onChange:f.handleChange,name:"location",error:f.errors.location,className:e.select,children:c.map((function(e,t){return Object(v.jsx)(de.a,{value:e.location_id,children:e.location_name},t)}))}),Object(v.jsx)(re.a,{className:e.errMessage,children:f.errors.location})]})}),Object(v.jsx)(C.a,{item:!0,children:Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"species",children:"Species"}),Object(v.jsx)(le.a,{labelId:"species",onChange:f.handleChange,name:"species",error:f.errors.species,className:e.select,children:r.map((function(e,t){return Object(v.jsx)(de.a,{value:e.species_id,children:e.species_name},t)}))}),Object(v.jsx)(re.a,{className:e.errMessage,children:f.errors.species})]})}),Object(v.jsx)(C.a,{item:!0,children:Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"dob",shrink:!0,children:"Date of Birth"}),Object(v.jsx)(se.a,{labelId:"dob",type:"date",onChange:f.handleChange,error:f.errors.birth_date,name:"birth_date"}),Object(v.jsx)(re.a,{className:e.errMessage,children:f.errors.birth_date})]})}),Object(v.jsx)(C.a,{item:!0,children:Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"dob",shrink:!0,children:"Arrival Date"}),Object(v.jsx)(se.a,{labelId:"dob",type:"date",defaultValue:(new Date).toDateString(),onChange:f.handleChange,error:f.errors.date_arrived,name:"date_arrived"}),Object(v.jsx)(re.a,{className:e.errMessage,children:f.errors.date_arrived})]})}),Object(v.jsx)(C.a,{item:!0,children:Object(v.jsx)(O.a,{variant:"outlined",onClick:f.handleSubmit,type:"submit",children:"Add Animal"})})]})]}),Object(v.jsx)("form",{children:Object(v.jsxs)("div",{className:y.root,noValidate:!0,autoComplete:"off",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{style:{align:"middle",fontSize:"32px"},children:"Report Request"}),Object(v.jsx)(w.a,{align:"left",style:{fontSize:"22px",fontWeight:"bold"}})]}),Object(v.jsx)("div",{children:Object(v.jsx)(ie.a,{spacing:2,style:{marginBottom:"20px",width:"40%"},className:Object(pe.a)(y.margin,y.textField),variant:"outlined"})}),Object(v.jsxs)(w.a,{align:"left",style:{fontSize:"18px"},children:["Select atleast one item:"," "]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)(ie.a,{style:{marginBottom:"20px",width:"40%",marginRight:"10px"},className:Object(pe.a)(y.margin,y.textField),variant:"outlined",children:[Object(v.jsx)(oe.a,{id:"species",children:"Species"}),Object(v.jsx)(le.a,{labelId:"species",onChange:_.handleChange,name:"species",className:e.select,children:r.map((function(e,t){return Object(v.jsx)(de.a,{value:e.species_id,children:e.species_name},t)}))})]}),Object(v.jsxs)(ie.a,{style:{marginBottom:"20px",width:"40%"},className:Object(pe.a)(y.margin,y.textField),variant:"outlined",children:[Object(v.jsx)(oe.a,{id:"health_status",children:"Health Status"}),Object(v.jsxs)(le.a,{labelId:"health_status",onChange:_.handleChange,name:"health_status",className:e.select,children:[Object(v.jsx)(de.a,{value:"Healthy",children:"Healthy"}),Object(v.jsx)(de.a,{value:"Sick",children:"Sick"}),Object(v.jsx)(de.a,{value:"Deceased",children:"Deceased"})]})]})]}),Object(v.jsxs)(ie.a,{style:{marginBottom:"20px",marginRight:"40px"},children:[Object(v.jsx)(oe.a,{id:"date_from",shrink:!0,children:"Date From:"}),Object(v.jsx)(se.a,{labelId:"activity-from",name:"date_from",type:"date",onChange:_.handleChange})]}),Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"date_to",shrink:!0,children:"Date To:"}),Object(v.jsx)(se.a,{labelId:"activity-to",name:"date_to",type:"date",onChange:_.handleChange})]}),Object(v.jsx)(O.a,{variant:"contained",onClick:_.handleSubmit,children:"Get Report"})]})}),Object(v.jsx)(v.Fragment,{children:u.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{children:"Report Result"}),Object(v.jsx)(je.a,{component:he.a,style:{width:800,paddingTop:"10px"},children:Object(v.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(v.jsx)(be.a,{children:Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{children:"Name "}),Object(v.jsx)(Oe.a,{align:"right",children:"Species"}),Object(v.jsx)(Oe.a,{align:"right",children:"Date of Birth"}),Object(v.jsx)(Oe.a,{align:"right",children:"Date Arrived"}),Object(v.jsx)(Oe.a,{align:"right",children:"Health Status"})]})}),Object(v.jsx)(xe.a,{children:u.map((function(e){return Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{component:"th",scope:"row",children:e.animal_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.species_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.birth_date.toString().split("T")[0]}),Object(v.jsx)(Oe.a,{align:"right",children:e.date_arrived.toString().split("T")[0]}),Object(v.jsx)(Oe.a,{align:"right",children:e.health_status})]},e.animal_id)}))})]})})]}):null})]})},ve=a(323),ye=Object(x.a)({select:{minWidth:150},errMessage:{color:"red"}}),Ce=function(e){var t=e.match,a=Object(n.useContext)(A).user,c=Object(r.f)();console.log(c);var i=ye(),o=Object(n.useState)(!0),s=Object(l.a)(o,2),d=s[0],j=s[1],h=Object(n.useState)(!1),u=Object(l.a)(h,2),b=u[0],m=u[1],x=Object(n.useState)({animal_name:""}),p=Object(l.a)(x,2),g=p[0],f=p[1],_=Object(n.useState)(!1),y=Object(l.a)(_,2),k=(y[0],y[1],Object(n.useState)(!1)),S=Object(l.a)(k,2),N=S[0],I=S[1],T=Object(n.useState)([]),E=Object(l.a)(T,2),D=E[0],z=E[1],F=Object(n.useState)({}),R=Object(l.a)(F,2),B=R[0],q=R[1],P=function(){I(!1)};return Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/locations/by_id",{params:{location:t.params.id}}).then((function(e){console.log("Enclosure: ",e),q(e.data[0])})).catch((function(e){console.log(e)})),M.a.get("https://zoo-backend-test.herokuapp.com/animals/list_by_enclosure/",{params:{location:t.params.id}}).then((function(e){console.log(e),z(e.data),j(!1)})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)("div",{style:{padding:"10px"},children:d?Object(v.jsx)(ve.a,{color:"primary"}):Object(v.jsx)(v.Fragment,{children:D.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{children:"Animals in ".concat(B.location_name," Enclosure")}),Object(v.jsx)(je.a,{component:he.a,style:{width:800,paddingTop:"10px"},children:Object(v.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(v.jsx)(be.a,{children:Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{children:"Name "}),Object(v.jsx)(Oe.a,{align:"right",children:"Species"}),Object(v.jsx)(Oe.a,{align:"right",children:"Date of Birth"}),Object(v.jsx)(Oe.a,{align:"right",children:"Date Arrived"}),"Employee"==a.role?Object(v.jsx)(Oe.a,{align:"right",children:"Health Status"}):null,"Employee"==a.role?Object(v.jsx)(Oe.a,{align:"right",children:"Actions"}):null]})}),Object(v.jsx)(xe.a,{children:D.map((function(e){return Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{component:"th",scope:"row",children:e.animal_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.species_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.birth_date.toString().split("T")[0]}),Object(v.jsx)(Oe.a,{align:"right",children:e.date_arrived.toString().split("T")[0]}),"Employee"==a.role?Object(v.jsx)(Oe.a,{align:"right",children:e.health_status}):null,"Employee"==a.role?Object(v.jsxs)(Oe.a,{align:"right",children:[Object(v.jsx)(O.a,{variant:"outlined",onClick:function(){!function(e){console.log("Animal",e),f(e),m(!0)}(e)},children:"Edit"}),Object(v.jsx)(O.a,{variant:"outlined",onClick:function(){!function(e){f(e),I(!0),console.log(e)}(e)},children:"Delete"})]}):null]},e.animal_id)}))})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:b,children:[Object(v.jsxs)(H.a,{children:["Change the Health of ",g.animal_name]}),Object(v.jsx)(V.a,{children:Object(v.jsxs)(le.a,{id:"health_status",value:g.health_status,onChange:function(e){f(Object(ce.a)(Object(ce.a)({},g),{},{health_status:e.target.value}))},children:[Object(v.jsx)(de.a,{value:"Healthy",children:"Healthy"}),Object(v.jsx)(de.a,{value:"Sick",children:"Sick"}),Object(v.jsx)(de.a,{value:"Deceased",children:"Deceased"})]})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){M.a.put("https://zoo-backend-test.herokuapp.com/animals/change_health",g).then((function(e){m(!1),console.log(e)})).catch((function(e){m(!0),console.log(e)}))},variant:"contained",color:"secondary",children:"Save"}),Object(v.jsx)(O.a,{onClick:function(){m(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:N,onClose:P,children:[Object(v.jsx)(V.a,{children:Object(v.jsxs)(C.a,{container:!0,spacing:1,direction:"column",className:i.root,children:[Object(v.jsx)(w.a,{className:i.formTitle,children:"Are you sure you want to remove ".concat(g.animal_name)}),Object(v.jsx)(C.a,{item:!0,xs:12}),Object(v.jsx)(C.a,{item:!0,xs:12})]})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){M.a.delete("https://zoo-backend-test.herokuapp.com/animals/delete/".concat(g.animal_id)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},variant:"contained",color:"secondary",children:"YES"}),Object(v.jsx)(O.a,{onClick:P,variant:"contained",color:"secondary",children:"NO"})]})]})})]}):Object(v.jsx)(w.a,{style:{padding:"10px"},children:"No Animals"})})})},ke=a(324),Se=a(310),we=a(309),Ne=a(165),Ae=a.n(Ne),Ie=a(166),Te=a.n(Ie);var Ee=function(){var e=Object(n.useContext)(A),t=e.user,a=e.logout,c=(Object(r.g)().url,Object(r.f)());return Object(v.jsx)("div",{children:Object(v.jsx)(ke.a,{position:"static",children:Object(v.jsxs)(Se.a,{variant:"dense",style:{padding:0},children:[Object(v.jsx)(we.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){c.push("/")},children:Object(v.jsx)(Ae.a,{})}),Object(v.jsx)(w.a,{variant:"h6",children:"Better Houston Zoo"}),!t.auth&&Object(v.jsxs)("div",{children:[Object(v.jsx)(O.a,{onClick:function(){c.push("/login")},children:"Log in"}),Object(v.jsx)(O.a,{onClick:function(){c.push("/create")},children:"Sign up"})]}),t.auth&&Object(v.jsxs)("div",{children:[Object(v.jsxs)(O.a,{children:["Welcome, ",t.name]}),Object(v.jsx)(we.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){c.push("/history")},children:Object(v.jsx)(Te.a,{})}),Object(v.jsx)(O.a,{onClick:function(){c.push("/"),a()},children:"Sign out"}),t.auth?Object(v.jsxs)(v.Fragment,{children:["Admin"===t.role?Object(v.jsx)(L.a,{href:"/admin_dashboard",children:Object(v.jsx)(O.a,{children:"Dash Board"})}):null,"Employee"===t.role?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L.a,{href:"/employee_dashboard",children:Object(v.jsx)(O.a,{children:"Dash Board"})}),Object(v.jsx)(L.a,{href:"/messages",children:Object(v.jsx)(O.a,{children:"Messages"})})]}):null,"Customer"===t.role?Object(v.jsx)(L.a,{href:"/user_dashboard",children:Object(v.jsx)(O.a,{children:"Dash Board"})}):null]}):null,t.auth?Object(v.jsxs)(v.Fragment,{children:["Customer"===t.role?Object(v.jsx)(L.a,{href:"/history",children:Object(v.jsx)(O.a,{children:"Purchase History"})}):null,Object(v.jsx)(L.a,{href:"/giftshops",children:Object(v.jsx)(O.a,{children:"Gift Shop"})}),"Customer"===t.role?Object(v.jsx)(L.a,{href:"/ticket",children:Object(v.jsx)(O.a,{children:"Buy Tickets"})}):null]}):null]})]})})})},De=function(e){e.match;var t=Object(n.useContext)(A).user.userID,a=(Object(r.f)(),Object(n.useState)([])),c=Object(l.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/purchaseHistory/history",{params:{userID:t}}).then((function(e){console.log(e),o(e.data)})).catch((function(e){console.log(e)}))}),[]),console.log(i),Object(v.jsx)("div",{style:{padding:"10px"},children:Object(v.jsx)(v.Fragment,{children:i.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{children:"Purchase History"}),Object(v.jsx)(je.a,{component:he.a,style:{width:800,paddingTop:"10px"},children:Object(v.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(v.jsx)(be.a,{children:Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{children:"Name "}),Object(v.jsx)(Oe.a,{align:"right",children:"Purchase Date"}),Object(v.jsx)(Oe.a,{align:"right",children:"Quantity"}),Object(v.jsx)(Oe.a,{align:"right",children:"Total Cost"})]})}),Object(v.jsx)(xe.a,{children:i.map((function(e){return Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{component:"th",scope:"row",children:e.product_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.purchase_time.toString().split("T")[0]}),Object(v.jsx)(Oe.a,{align:"right",children:e.quantity_purchased}),Object(v.jsx)(Oe.a,{align:"right",children:"$"+e.total_purchase_cost})]},e.transaction_id)}))})]})})]}):Object(v.jsx)(w.a,{style:{padding:"10px"},children:"No Purchases"})})})};var ze=function(){return Object(n.useContext)(A).user,Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"primary",children:Object(v.jsx)("div",{className:"primary-container",children:Object(v.jsx)("h4",{className:"title",children:" Zoovenirs "})})}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"multiline"}),Object(v.jsx)("div",{children:" Some Item "}),Object(v.jsx)("button",{children:" Purchase "})]})]})},Fe=(a(250),Object(x.a)({listCategory:{textTransform:"uppercase",fontWeight:"bold",paddingTop:"10px"},divider:{height:"5px",backgroundColor:"green",width:"100%"},grid:{padding:"10px"}})),Re=Object(x.a)({root:{width:"280px",display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{height:140}}),Me=function(e){var t=e.name,a=e.description,n=e.image,c=e.id,i=Object(r.g)().url,o=Re();return Object(v.jsx)("div",{children:Object(v.jsxs)(k.a,{className:o.root,children:[Object(v.jsx)("div",{children:Object(v.jsxs)(q.a,{children:[Object(v.jsx)(W.a,{className:o.media,image:n,title:"Contemplative Reptile"}),Object(v.jsxs)(S.a,{children:[Object(v.jsx)(w.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(v.jsx)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:a})]})]})}),Object(v.jsx)("div",{children:Object(v.jsx)(L.a,{style:{textDecoration:"none"},href:"".concat(i,"/").concat(c),children:Object(v.jsx)(P.a,{children:Object(v.jsx)(O.a,{size:"small",color:"primary",children:"Learn More"})})})})]})})},Be=function(){var e=Fe(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/locations/all_gift_shops").then((function(e){console.log(e),console.log(e.data),i(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(v.jsxs)("div",{className:e.categoryContainer,children:[Object(v.jsx)(w.a,{className:e.listCategory,children:"Gift Shops"}),Object(v.jsx)(C.a,{direction:"row",container:!0,spacing:2,className:e.grid,children:c.map((function(e,t){return Object(v.jsx)(C.a,{item:!0,children:Object(v.jsx)(Me,{name:e.location_name,image:"/uploads/".concat(e.location_image),id:e.location_id})},t)}))})]})},qe=a(31),Pe=Object(x.a)({select:{minWidth:150},errMessage:{color:"red"}}),We=function(e){var t=e.match,a=Array.from({length:10},(function(e,t){return{value:t+1}}));console.log(a);var c=Pe(),i=Object(n.useContext)(A).user,o=(Object(r.f)(),Object(n.useState)(!0)),s=Object(l.a)(o,2),d=s[0],j=s[1],h=Object(n.useState)(!1),u=Object(l.a)(h,2),b=u[0],m=u[1],x=Object(n.useState)(!1),p=Object(l.a)(x,2),g=p[0],f=p[1],_=Object(n.useState)(!1),y=Object(l.a)(_,2),k=y[0],S=y[1],N=Object(n.useState)(!1),I=Object(l.a)(N,2),T=I[0],E=I[1],D=Object(n.useState)({}),z=Object(l.a)(D,2),F=z[0],R=z[1],B=Object(n.useState)(!1),q=Object(l.a)(B,2),P=(q[0],q[1],Object(n.useState)(null)),W=Object(l.a)(P,2),L=W[0],J=(W[1],function(){E(!1)}),Q=Object(U.a)({initialValues:{stock_amount:"",price:"",product_name:"",location_sold:24},validate:function(e){var t={};return e.stock_amount||(t.stock_amount="Required"),""==e.price&&(t.price="Required"),""==e.product_name&&(t.product_name="Required"),t},onSubmit:function(e){!function(e){M.a.post("https://zoo-backend-test.herokuapp.com/merchandise/additem",{stock_amount:e.stock_amount,price:e.price,product_name:e.product_name,location_sold:24}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response),console.log("Errors: ",e.response.data),e.response.data.errors}))}(e),E(!1)}}),K=Object(n.useState)([]),X=Object(l.a)(K,2),ee=X[0],te=X[1],ae=Object(n.useState)({}),ne=Object(l.a)(ae,2),ie=ne[0],re=ne[1];return Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/locations/by_id",{params:{location:t.params.id}}).then((function(e){re(e.data[0])})).catch((function(e){console.log(e)})),M.a.get("https://zoo-backend-test.herokuapp.com/merchandise/all_products/",{params:{location:t.params.id}}).then((function(e){console.log(e);var t=e.data.map((function(e){return Object(ce.a)(Object(ce.a)({},e),{},{quantity_selected:0,amount_due:0})}));te(t),j(!1)})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)("div",{style:{padding:"10px"},children:d?Object(v.jsx)(ve.a,{color:"primary"}):Object(v.jsx)(v.Fragment,{children:ee.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{children:"Products in ".concat(ie.location_name," Enclosure")}),"Admin"==i.role?Object(v.jsx)(C.a,{item:!0,children:Object(v.jsx)(O.a,{variant:"contained",onClick:function(){E(!0)},children:"Add Item"})}):null,Object(v.jsx)(je.a,{component:he.a,style:{width:800,paddingTop:"10px"},children:Object(v.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(v.jsx)(be.a,{children:Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{children:"Product Name "}),Object(v.jsx)(Oe.a,{align:"right",children:"Product Stock"}),Object(v.jsx)(Oe.a,{align:"right",children:"Product Price"}),"Customer"==i.role?Object(v.jsx)(Oe.a,{align:"right",children:"Select Quantity"}):null,"Customer"==i.role?Object(v.jsx)(Oe.a,{align:"right",children:"Actions"}):null]})}),Object(v.jsx)(xe.a,{children:ee.map((function(e){return Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{component:"th",scope:"row",children:e.product_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.stock_amount}),Object(v.jsx)(Oe.a,{align:"right",children:"$"+e.price}),"Customer"==i.role?Object(v.jsx)(Oe.a,{align:"right",children:Object(v.jsx)(le.a,{name:"quantity_selected",style:{width:"75px"},value:e.quantity_selected,onChange:function(t){!function(e,t){var a=ee.findIndex((function(e){return e.item_id==t.item_id})),n=Object(qe.a)(ee);n[a]=Object(ce.a)(Object(ce.a)({},n[a]),{},{quantity_selected:e.target.value,amount_due:e.target.value*t.price}),te(n)}(t,e)},children:a.map((function(e){return Object(v.jsx)(de.a,{value:e.value,children:e.value},e.value)}))})}):null,"Customer"==i.role?Object(v.jsx)(Oe.a,{align:"right",children:Object(v.jsx)(O.a,{variant:"outlined",disabled:0==e.quantity_selected,onClick:function(){!function(e){R(e),m(!0)}(e)},children:"Buy"})}):null,"Admin"==i.role?Object(v.jsxs)(Oe.a,{align:"right",children:[Object(v.jsx)(O.a,{variant:"outlined",onClick:function(){!function(e){R(e),f(!0)}(e)},children:"Edit Stock"}),Object(v.jsx)(O.a,{variant:"outlined",onClick:function(){!function(e){R(e),S(!0)}(e)},children:"REMOVE"})]}):null]},e.product_id)}))})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:b,children:[Object(v.jsx)(H.a,{children:"Transaction Details"}),Object(v.jsxs)(V.a,{children:[Object(v.jsx)(w.a,{children:"The Total Cost of ".concat(F.product_name," is $").concat(F.amount_due)}),Object(v.jsx)(w.a,{children:"Are you sure you want to buy?"})]}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){M.a.post("https://zoo-backend-test.herokuapp.com/merchandise/buy",Object(ce.a)({user_id:i.userID},F)).then((function(e){m(!1),console.log(e)})).catch((function(e){m(!0),console.log(e)}))},variant:"contained",color:"secondary",children:"CONFIRM"}),Object(v.jsx)(O.a,{onClick:function(){m(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:T,onClose:J,children:[Object(v.jsx)(H.a,{children:"Add New Item"}),Object(v.jsx)(V.a,{children:Object(v.jsxs)(C.a,{container:!0,spacing:1,direction:"column",className:c.root,children:[Object(v.jsx)(w.a,{className:c.formTitle,children:"Add New Item"}),L?Object(v.jsx)(G.a,{severity:"error",style:{paddingBottom:"10px"},children:L}):null,Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Stock Amount",id:"stock_amount",onChange:Q.handleChange,name:"stock_amount",variant:"outlined",style:{width:"100%"}})}),Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Price",id:"email",onChange:Q.handleChange,name:"price",variant:"outlined",style:{width:"100%"}})}),Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Product Name",id:"product_name",name:"product_name",onChange:Q.handleChange,variant:"outlined",style:{width:"100%"}})})]})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:Q.handleSubmit,variant:"contained",color:"secondary",children:"Save"}),Object(v.jsx)(O.a,{onClick:J,variant:"contained",color:"secondary",children:"CANCEL"})]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:k,children:[Object(v.jsxs)(H.a,{children:["Remove ",F.product_name]}),Object(v.jsx)(V.a,{children:Object(v.jsx)(w.a,{className:c.formTitle,children:"Are you sure?"})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){var e;e=F.product_name,M.a.post("https://zoo-backend-test.herokuapp.com/merchandise/removeItem",{product:e}).then((function(e){S(!1),console.log(e),window.location.reload(!1)})).catch((function(e){S(!0),console.log(e)}))},variant:"contained",color:"secondary",children:"Yes"}),Object(v.jsx)(O.a,{onClick:function(){S(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:g,children:[Object(v.jsxs)(H.a,{children:["Change the Stock of ",F.product_name]}),Object(v.jsxs)(V.a,{children:[Object(v.jsx)(oe.a,{htmlFor:"amount_spent",children:"Increase by how much"}),Object(v.jsx)(se.a,{id:"stock_amount",value:F.stock_amount,onChange:function(e){R(Object(ce.a)(Object(ce.a)({},F),{},{stock_amount:e.target.value}))}})]}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){M.a.put("https://zoo-backend-test.herokuapp.com/merchandise/change_stock",F).then((function(e){f(!1),console.log(e)})).catch((function(e){f(!0),console.log(e)}))},variant:"contained",color:"secondary",children:"Save"}),Object(v.jsx)(O.a,{onClick:function(){f(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})})]}):Object(v.jsx)(w.a,{style:{padding:"10px"},children:"No Products"})})})},Le=a(327),Ye=a(325),He=Object(x.a)({select:{minWidth:150},errMessage:{color:"red"}}),Ve=function(){var e=He(),t=(Object(r.f)(),Object(n.useContext)(A).login,Object(n.useState)([])),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),d=s[0],j=s[1],h=Object(n.useState)(!1),u=Object(l.a)(h,2),b=u[0],m=u[1],x=Object(n.useState)(!1),p=Object(l.a)(x,2),g=p[0],f=p[1],_=Object(n.useState)(null),y=Object(l.a)(_,2),k=y[0],S=y[1],N=Object(n.useState)(!1),I=Object(l.a)(N,2),T=I[0],E=(I[1],Object(n.useState)({full_name:"",work_location:""})),D=Object(l.a)(E,2),z=D[0],F=D[1],R=Object(n.useState)({email:"",password:""}),B=Object(l.a)(R,2),q=(B[0],B[1]),P=Object(n.useState)([]),W=Object(l.a)(P,2),L=W[0],J=W[1],Q=Object(n.useContext)(A).user;Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/employees/all").then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.log(e)})),M.a.get("https://zoo-backend-test.herokuapp.com/locations").then((function(e){console.log(e.data),J(e.data)})).catch((function(e){console.log(e)}))}),[]);var K=Object(U.a)({initialValues:{full_name:"",email:"",password:"",work_location:0},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.email.length>25&&(t.email="Max 25 characters"):t.email="Invalid email address":t.email="Required",e.password.length<4&&(t.password="Minimum 4 characters"),""==e.full_name&&(t.full_name="Required"),""==e.worK_location&&(t.work_location="Required"),t},onSubmit:function(e){!function(e){M.a.post("https://zoo-backend-test.herokuapp.com/signup",{full_name:e.full_name,email:e.email,password:e.password,role_id:"Employee",work_location:e.work_location}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response),console.log("Errors: ",e.response.data);var t=e.response.data.errors,a={email:"",password:""};Array.isArray(t)?(t.forEach((function(e){a[e.param]=e.msg})),q(a)):S(e.response.data.error)}))}(e)}}),X=function(){f(!1)},ee=function(){j(!1)};return Object(v.jsx)("div",{style:{padding:"10px"},children:T?Object(v.jsx)(ve.a,{color:"primary"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{children:"All Employees"}),Object(v.jsx)(O.a,{variant:"contained",onClick:function(){f(!0)},children:"Add Employee"}),c.length>0&&L.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(C.a,{container:!0,direction:"column",alignItems:"flex-start",spacing:2,children:[Object(v.jsx)(C.a,{item:!0}),Object(v.jsx)(C.a,{item:!0,children:Object(v.jsx)(je.a,{component:he.a,style:{width:800,paddingTop:"10px"},children:Object(v.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(v.jsx)(be.a,{children:Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{children:"Name "}),Object(v.jsx)(Oe.a,{align:"right",children:"Job Title"}),Object(v.jsx)(Oe.a,{align:"right",children:"Wage"}),Object(v.jsx)(Oe.a,{align:"right",children:"Work Location"}),"Admin"==Q.role?Object(v.jsx)(Oe.a,{align:"right",children:"Actions"}):null]})}),Object(v.jsx)(xe.a,{children:c.map((function(e){return Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{component:"th",scope:"row",children:e.full_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.job_title}),Object(v.jsx)(Oe.a,{align:"right",children:e.wage}),Object(v.jsx)(Oe.a,{align:"right",children:e.location_name}),"Admin"==Q.role?Object(v.jsxs)(Oe.a,{align:"right",children:[Object(v.jsx)(O.a,{style:{marginRight:"10px"},variant:"contained",onClick:function(){!function(e){F(e),m(!0)}(e)},children:"Edit"}),Object(v.jsx)(O.a,{variant:"outlined",onClick:function(){!function(e){F(e),j(!0),console.log(e)}(e)},children:"Delete"})]}):null]},e.employee_id)}))})]})})})]}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:b,onClose:function(){m(!1)},children:[Object(v.jsxs)(H.a,{children:["Change the Work location of ",z.full_name]}),Object(v.jsx)(V.a,{children:Object(v.jsx)(le.a,{id:"health_status",value:z.health_status,onChange:function(e){var t=Object(ce.a)(Object(ce.a)({},z),{},{work_location:e.target.value});F(t)},children:L.map((function(e){return Object(v.jsx)(de.a,{value:e.location_id,children:e.location_name},e.location_id)}))})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){M.a.put("https://zoo-backend-test.herokuapp.com/employees/change_work_location",{new_location:z.work_location,employee_id:z.employee_id}).then((function(e){console.log(e),m(!1)})).catch((function(e){console.log(e)}))},variant:"contained",color:"secondary",children:"Save"}),Object(v.jsx)(O.a,{onClick:function(){m(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:g,onClose:X,children:[Object(v.jsx)(H.a,{children:"Add New Employee"}),Object(v.jsx)(V.a,{children:Object(v.jsxs)(C.a,{container:!0,spacing:1,direction:"column",className:e.root,children:[Object(v.jsx)(w.a,{className:e.formTitle,children:"Add New Employee"}),k?Object(v.jsx)(G.a,{severity:"error",style:{paddingBottom:"10px"},children:k}):null,Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Full Name",id:"full_name",onChange:K.handleChange,name:"full_name",variant:"outlined",style:{width:"100%"},error:K.errors.full_name,helperText:""!==K.errors.full_name?K.errors.full_name:""})}),Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Email",id:"email",onChange:K.handleChange,name:"email",variant:"outlined",style:{width:"100%"},error:K.errors.email,helperText:""!==K.errors.email?K.errors.email:""})}),Object(v.jsx)(C.a,{item:!0,xs:12,children:Object(v.jsx)($.a,{label:"Password",id:"password",name:"password",onChange:K.handleChange,variant:"outlined",style:{width:"100%"},error:K.errors.password,helperText:""!==K.errors.password?K.errors.password:""})}),Object(v.jsxs)(C.a,{item:!0,xs:12,children:[Object(v.jsx)(oe.a,{children:"Work Location"}),Object(v.jsx)(le.a,{id:"work_location",style:{width:"100%"},name:"work_location",onChange:K.handleChange,children:L.map((function(e){return Object(v.jsx)(de.a,{value:e.location_id,children:e.location_name},e.location_id)}))}),""!==K.errors.work_location?Object(v.jsx)(re.a,{children:K.errors.work_location}):null]})]})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:K.handleSubmit,variant:"contained",color:"secondary",children:"Save"}),Object(v.jsx)(O.a,{onClick:X,variant:"contained",color:"secondary",children:"CANCEL"})]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.a,{open:d,onClose:ee,children:[Object(v.jsx)(V.a,{children:Object(v.jsxs)(C.a,{container:!0,spacing:1,direction:"column",className:e.root,children:[Object(v.jsx)(w.a,{className:e.formTitle,children:"Are you sure you want to remove ".concat(z.full_name)}),Object(v.jsx)(C.a,{item:!0,xs:12}),Object(v.jsx)(C.a,{item:!0,xs:12})]})}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(O.a,{onClick:function(){M.a.delete("https://zoo-backend-test.herokuapp.com/employees/delete/".concat(z.employee_id)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},variant:"contained",color:"secondary",children:"YES"}),Object(v.jsx)(O.a,{onClick:ee,variant:"contained",color:"secondary",children:"NO"})]})]})})]}):Object(v.jsx)(w.a,{style:{padding:"10px"},children:"No Animals"})]})})},Ze=a(260),$e=Object(x.a)((function(e){return{root:{width:"900px",variant:"contained",position:"right",border:"3px solid #4A90E2",borderColor:"gray",color:"black",align:"right",minWidth:50,"& .MuiTextField-root":{margin:e.spacing(4),width:"10ch"}}}})),Ue=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),o=Object(l.a)(i,2),s=(o[0],o[1],Object(U.a)({initialValues:{product_name:"",from_date:"",to_date:"",shop:"",amount_spent:""},onSubmit:function(e){console.log(e),M.a.post("https://zoo-backend-test.herokuapp.com/login/admin_report",e).then((function(e){console.log(e),c(e.data.purchase_history)})).catch((function(e){console.log(e)}))}})),r=Object(n.useState)([]),d=Object(l.a)(r,2),j=d[0],h=d[1];Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/locations/all_shops").then((function(e){console.log(e),h(e.data)})).catch((function(e){console.log(e)}))}),[]);var u=$e();return Object(v.jsxs)("div",{style:{padding:"10px"},children:[Object(v.jsx)("form",{children:Object(v.jsxs)("div",{className:u.root,noValidate:!0,autoComplete:"off",children:[Object(v.jsxs)("div",{style:{paddingTop:"10px"},children:[Object(v.jsxs)(ie.a,{variant:"outlined",style:{marginBottom:"20px",width:"40%",marginRight:"10px"},children:[Object(v.jsx)(oe.a,{htmlFor:"product-name",children:"Product Name"}),Object(v.jsx)(Ze.a,{id:"product-name",onChange:s.handleChange,name:"product_name"})]}),Object(v.jsxs)(ie.a,{style:{marginBottom:"20px",width:"40%",marginRight:"10px"},className:Object(pe.a)(u.margin,u.textField),variant:"outlined",children:[Object(v.jsx)(oe.a,{id:"shops",children:"Shops"}),Object(v.jsx)(le.a,{labelId:"shops",onChange:s.handleChange,name:"shop",className:u.select,children:j.map((function(e,t){return Object(v.jsx)(de.a,{value:e.location_id,children:e.location_name},t)}))})]})]}),Object(v.jsxs)(ie.a,{style:{marginBottom:"20px",marginRight:"40px"},children:[Object(v.jsx)(oe.a,{id:"from_date",shrink:!0,children:"Date From:"}),Object(v.jsx)(se.a,{labelId:"activity-from",name:"from_date",type:"date",onChange:s.handleChange})]}),Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"to_date",shrink:!0,children:"Date To:"}),Object(v.jsx)(se.a,{labelId:"activity-to",name:"to_date",type:"date",onChange:s.handleChange})]}),Object(v.jsx)(O.a,{variant:"contained",onClick:s.handleSubmit,children:"Get Report"})]})}),Object(v.jsx)(C.a,{container:!0,direction:"column",alignItems:"flex-start",spacing:2,children:Object(v.jsx)(C.a,{item:!0,children:Object(v.jsx)(je.a,{component:he.a,style:{width:800,paddingTop:"10px"},children:Object(v.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(v.jsx)(be.a,{children:Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{align:"right",children:"Transaction ID"}),Object(v.jsx)(Oe.a,{align:"right",children:"Product Name"}),Object(v.jsx)(Oe.a,{align:"right",children:"Location Sold"}),Object(v.jsx)(Oe.a,{align:"right",children:"Quantity Purchased"}),Object(v.jsx)(Oe.a,{align:"right",children:"Amount Spent"}),Object(v.jsx)(Oe.a,{align:"right",children:"Transaction Date"})]})}),Object(v.jsx)(xe.a,{children:a.map((function(e){return Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{align:"right",children:e.transaction_id}),Object(v.jsx)(Oe.a,{align:"right",children:e.product_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.location_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.quantity_purchased}),Object(v.jsx)(Oe.a,{align:"right",children:e.total_purchase_cost}),Object(v.jsx)(Oe.a,{align:"right",children:e.purchase_time.toString().split("T")[0]})]},e.transaction_id)}))})]})})})})]})},Ge=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(v.jsxs)("div",{style:{padding:"10px"},children:[Object(v.jsxs)(Le.a,{value:a,onChange:function(e,t){c(t)},children:[Object(v.jsx)(Ye.a,{label:"Employees"}),Object(v.jsx)(Ye.a,{label:"Revenue"})]}),0===a&&Object(v.jsx)(Ve,{}),1===a&&Object(v.jsx)(Ue,{})]})},Je=Object(x.a)((function(e){return{root:{width:"900px",variant:"contained",position:"right",border:"3px solid #4A90E2",borderColor:"gray",color:"black",align:"right",minWidth:50,"& .MuiTextField-root":{margin:e.spacing(4),width:"10ch"}}}})),Qe=Object(x.a)({select:{minWidth:150},errMessage:{color:"red"}}),Ke=function(){var e=Qe(),t=Object(n.useContext)(A).user,a=Object(n.useState)([]),c=Object(l.a)(a,2),i=c[0],o=c[1],s=Object(n.useState)([]),r=Object(l.a)(s,2),d=(r[0],r[1],Object(n.useState)([])),j=Object(l.a)(d,2),h=j[0],u=j[1],b=Object(n.useState)({date_arrived:null,deceased_date:null,birth_day:null,location:"",animal_name:""}),m=Object(l.a)(b,2);m[0],m[1];Object(n.useEffect)((function(){M.a.get("https://zoo-backend-test.herokuapp.com/locations/all_shops").then((function(e){console.log(e.data),o(e.data)})).catch((function(e){console.log(e)}))}),[]);var x=Object(n.useState)({investigator:"",checked:!0,purchase:"",enclosure:"",animal:"",customer:"",dateFrom:"",dateTo:""}),p=Object(l.a)(x,2),g=(p[0],p[1],Object(U.a)({initialValues:{date_from:"",date_to:"",shop_name:"",amount_spent:"",customer_id:t.userID},validate:function(e){console.log("testing...");var t={};return e.amount_spent.length>0&&!Number.isInteger(Number(e.amount_spent))&&(t.amount_spent="Must be a valid number"),t},onSubmit:function(e){console.log(e),M.a.post("https://zoo-backend-test.herokuapp.com/login/customer_report",e).then((function(e){console.log(e.data),u(e.data)})).catch((function(e){console.log(e)}))}})),f=Je();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:f.root,noValidate:!0,autoComplete:"off",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{style:{align:"middle",fontSize:"32px"},children:"Report Request"}),Object(v.jsx)(w.a,{align:"left",style:{fontSize:"22px",fontWeight:"bold"}})]}),Object(v.jsx)("div",{children:Object(v.jsx)(ie.a,{spacing:2,style:{marginBottom:"20px",width:"40%"},className:Object(pe.a)(f.margin,f.textField),variant:"outlined"})}),Object(v.jsxs)(w.a,{align:"left",style:{fontSize:"18px"},children:["Select atleast one item:"," "]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"shop_name",children:"Shop Name"}),Object(v.jsx)(le.a,{labelId:"shop_name",onChange:g.handleChange,name:"shop_name",error:g.errors.shop_name,className:e.select,children:i.map((function(e,t){return Object(v.jsx)(de.a,{value:e.location_id,children:e.location_name},t)}))}),Object(v.jsx)(re.a,{className:e.errMessage,children:g.errors.shop_name})]}),Object(v.jsxs)(ie.a,{style:{marginBottom:"20px",width:"40%"},className:Object(pe.a)(f.margin,f.textField),variant:"outlined",children:[Object(v.jsx)(oe.a,{htmlFor:"amount_spent",children:"Purchases above this value"}),Object(v.jsx)(se.a,{id:"amount_spent",onChange:g.handleChange,name:"amount_spent",error:g.errors.amount_spent}),Object(v.jsx)(re.a,{style:{color:"red"},children:g.errors.amount_spent})]})]}),Object(v.jsx)("div",{}),Object(v.jsxs)(ie.a,{style:{marginBottom:"20px",marginRight:"40px"},children:[Object(v.jsx)(oe.a,{id:"date_from",shrink:!0,children:"Date From:"}),Object(v.jsx)(se.a,{labelId:"activity-from",name:"date_from",type:"date",onChange:g.handleChange})]}),Object(v.jsxs)(ie.a,{children:[Object(v.jsx)(oe.a,{id:"date_to",shrink:!0,children:"Date To:"}),Object(v.jsx)(se.a,{labelId:"activity-to",name:"date_to",type:"date",onChange:g.handleChange})]}),Object(v.jsx)(O.a,{variant:"contained",onClick:g.handleSubmit,children:"Get Report"})]}),Object(v.jsx)(v.Fragment,{children:h.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w.a,{children:"Report Result"}),Object(v.jsx)(je.a,{component:he.a,style:{width:800,paddingTop:"10px"},children:Object(v.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(v.jsx)(be.a,{children:Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{children:"Location Bought "}),Object(v.jsx)(Oe.a,{align:"right",children:"Item(s) Purchased"}),Object(v.jsx)(Oe.a,{align:"right",children:"Amount Spent"}),Object(v.jsx)(Oe.a,{align:"right",children:"Date Purchased"})]})}),Object(v.jsx)(xe.a,{children:h.map((function(e){return Object(v.jsxs)(me.a,{children:[Object(v.jsx)(Oe.a,{component:"th",scope:"row",children:e.location_name}),Object(v.jsx)(Oe.a,{align:"right",children:e.quantity_purchased+" "+e.product_name}),Object(v.jsx)(Oe.a,{align:"right",children:"$"+e.total_purchase_cost}),Object(v.jsx)(Oe.a,{align:"right",children:e.purchase_time.toString().split("T")[0]})]},e.customer_id)}))})]})})]}):null})]})},Xe=function(){var e=Object(n.useContext)(A).user,t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){M.a.post("https://zoo-backend-test.herokuapp.com/messages",{user_id:parseInt(e.userID)}).then((function(e){console.log(e),i(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(v.jsx)(v.Fragment,{children:c.length>0?Object(v.jsx)("div",{style:{width:"50%"},children:c.map((function(e){return Object(v.jsx)(G.a,{onClose:function(){var t;t=e,console.log(t),M.a.delete("https://zoo-backend-test.herokuapp.com/messages/delete/".concat(t.message_id),t).then((function(e){var a=c.filter((function(e){return e.message_id!=t.message_id}));console.log("New messages: ",a),i(a),console.log(e.data)})).catch((function(e){console.log(e)}))},children:e.message},e.message_id)}))}):Object(v.jsx)(w.a,{children:"No Messages"})})};var et=function(){return null===sessionStorage.getItem("auth")&&sessionStorage.setItem("auth",!1),null===sessionStorage.getItem("username")&&sessionStorage.setItem("username","guest"),null===sessionStorage.getItem("role")&&sessionStorage.setItem("role",null),null===sessionStorage.getItem("userID")&&sessionStorage.setItem("userID",null),Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(s.a,{children:[Object(v.jsx)(Ee,{}),Object(v.jsxs)(r.c,{children:[Object(v.jsx)(r.a,{exact:!0,path:"/",component:y}),Object(v.jsx)(r.a,{exact:!0,path:"/ticket",component:B}),Object(v.jsx)(r.a,{exact:!0,path:"/giftshops",component:Be}),Object(v.jsx)(r.a,{exact:!0,path:"/giftshops/:id",component:We}),Object(v.jsx)(r.a,{exact:!0,path:"/enclosure",component:X}),Object(v.jsx)(r.a,{exact:!0,path:"/enclosure/:id",component:Ce}),Object(v.jsx)(r.a,{exact:!0,path:"/create",component:te}),Object(v.jsx)(r.a,{exact:!0,path:"/login",component:ne}),Object(v.jsx)(r.a,{exact:!0,path:"/employee_dashboard",component:_e}),Object(v.jsx)(r.a,{exact:!0,path:"/admin_dashboard",component:Ge}),Object(v.jsx)(r.a,{exact:!0,path:"/user_dashboard",component:Ke}),Object(v.jsx)(r.a,{exact:!0,path:"/history",component:De}),Object(v.jsx)(r.a,{exact:!0,path:"/shop",component:ze}),Object(v.jsx)(r.a,{exact:!0,path:"/messages",component:Xe})]})]})})};M.a.defaults.baseURL="http://localhost:5000",o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(I,{children:Object(v.jsx)(et,{})})}),document.getElementById("root"))}},[[251,1,2]]]);
//# sourceMappingURL=main.4cf8b1e0.chunk.js.map