(this["webpackJsonpzoo-management"]=this["webpackJsonpzoo-management"]||[]).push([[0],{249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(16),r=a.n(i),s=a(22),o=a(20),l=a(27),d=a(7),j=a.p+"static/media/zoo.c40cb5df.jpg",h=a(252),u=a(294),b=a(254),m=a(103),O=a(293),p=a(322),x=a(323),g=a(1);var f=function(){var e=c.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],i=c.a.useRef(null),r=function(e){i.current&&i.current.contains(e.target)||n(!1)};function o(e){"Tab"===e.key&&(e.preventDefault(),n(!1))}var f=c.a.useRef(a);return c.a.useEffect((function(){!0===f.current&&!1===a&&i.current.focus(),f.current=a}),[a]),Object(g.jsx)("div",{children:Object(g.jsx)("div",{children:Object(g.jsxs)("div",{style:{backgroundImage:"url(".concat(j,")"),backgroundPosition:"cover",width:"100%",height:"888px",padding:"20"},children:[Object(g.jsx)(h.a,{style:{borderRadius:5,backgroundColor:"white",padding:"7px 26px",fontSize:"16px"},variant:"contained",color:"white",ref:i,onClick:function(){n((function(e){return!e}))},children:"menu"}),Object(g.jsx)(O.a,{open:a,anchorEl:i.current,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(g.jsx)(b.a,Object(l.a)(Object(l.a)({},t),{},{style:{backgroundColor:"white",transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(g.jsx)(m.a,{children:Object(g.jsx)(u.a,{onClickAway:r,children:Object(g.jsxs)(x.a,{autoFocusItem:a,onKeyDown:o,children:[Object(g.jsx)(p.a,{component:s.b,to:"/ticket",children:"Tickets"}),Object(g.jsx)(p.a,{component:s.b,to:"/enclosure",children:"Enclosures"}),Object(g.jsx)(p.a,{component:s.b,to:"/giftshops",children:"Gift Shops"})]})})})}))}})]})})})},v=a(295),_=a(296),y=a(297),k=a(168),C=a(298),S=Object(n.createContext)(),w=function(e){var t=e.children,a=Object(n.useState)({name:sessionStorage.getItem("username"),auth:"true"===sessionStorage.getItem("auth"),role:sessionStorage.getItem("role"),userID:sessionStorage.getItem("userID")}),c=Object(d.a)(a,2),i=c[0],r=c[1];return Object(g.jsx)(S.Provider,{value:{user:i,login:function(e,t,a){r((function(){return{name:e,auth:!0,role:t,userID:a}})),sessionStorage.setItem("username",e),sessionStorage.setItem("auth",!0),sessionStorage.setItem("role",t),sessionStorage.setItem("userID",a)},logout:function(){r((function(){return{name:"guest",auth:!1}})),sessionStorage.setItem("username","guest"),sessionStorage.setItem("auth",!1),sessionStorage.setItem("role",null),sessionStorage.setItem("userID",null)}},children:t})},N=a(26),I=a(319),A=a(143),T=a(83),D=a.n(T),E=a(13),z=a.n(E);var M=function(){var e=Object(n.useContext)(S).user,t=Object(n.useState)(0),a=Object(d.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(0),s=Object(d.a)(r,2),l=s[0],j=s[1],u=Object(n.useState)(0),b=Object(d.a)(u,2),m=b[0],O=b[1],p=Object(n.useState)(!1),x=Object(d.a)(p,2),f=x[0],w=x[1],T=Object(n.useState)(D()(new Date).format("MM-DD-YYYY")),E=Object(d.a)(T,2),M=E[0],q=E[1];function F(){i(0),j(0),O(0),w(!1),q(D()(new Date).format("MM-DD-YYYY"))}var P=Object(o.f)(),R=function(e){console.log("purchasing tickets..."),z.a.post("https://zoo-backend-test.herokuapp.com/purchasehistory",{item_purchased:e.item_purchased,customer_id:e.customer_id,quantity_purchased:e.quantity_purchased,total_purchase_cost:e.total_purchase_cost,purchase_time:e.purchase_time,ticket_date:e.ticket_date}).then((function(e){console.log(e)})).catch((function(e){console.log(e),alert("failed!")}))};function B(t,a,n,c){this.item_purchased=t,this.customer_id=e.userID,this.quantity_purchased=a,this.total_purchase_cost=a*n,this.purchase_time=new Date,this.ticket_date=c}var L=function(e){var t=e.name,a=e.age,n=e.price,c=e.ticketCount,i=e.setTicketCount;return Object(g.jsx)(v.a,{item:!0,xs:6,children:Object(g.jsx)(_.a,{className:"ticketCard",variant:"outlined",children:Object(g.jsxs)(y.a,{children:[Object(g.jsx)(k.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(g.jsx)(k.a,{gutterBottom:!0,variant:"h6",component:"h2",children:a}),Object(g.jsx)(k.a,{variant:"h5",component:"h2",children:n}),Object(g.jsx)(k.a,{className:"taxIncludedText",color:"textSecondary",children:"tax included."}),Object(g.jsxs)(C.a,{size:"small","aria-label":"small outlined button group",children:[Object(g.jsx)(h.a,{onClick:function(){return function(e,t){t(e-1<0?0:e-1)}(c,i)},children:"-"}),Object(g.jsx)(h.a,{color:"primary",children:c}),Object(g.jsx)(h.a,{onClick:function(){return i(c+1)},children:"+"})]})]})})})};return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Tickets"}),Object(g.jsxs)(v.a,{container:!0,spacing:4,children:[Object(g.jsx)(L,{name:"Adult Ticket",age:"Age 18+",price:"$10",ticketCount:c,setTicketCount:i}),Object(g.jsx)(L,{name:"Child Ticket",age:"Age 3-17",price:"$5",ticketCount:l,setTicketCount:j})]}),Object(g.jsx)(N.a,{utils:A.a,children:Object(g.jsx)(I.a,{label:"date",value:M,onChange:function(e){q(D()(e).format("MM-DD-YYYY"))},disablePast:!0})}),Object(g.jsx)("br",{}),Object(g.jsx)(h.a,{className:"purchaseButton",variant:"outlined",color:"primary",onClick:function(){O(5*l+10*c),w(!0)},children:"Purchase"}),f&&0!==m&&Object(g.jsxs)("div",{children:[Object(g.jsxs)("h3",{children:["Your total cost is: $",m]}),Object(g.jsx)(h.a,{variant:"outlined",color:"primary",onClick:function(){e.auth?(alert(c+" adult ticket(s) "+l+" child ticket(s) on "+M+" for $"+m),c>0&&(R(new B(1,c,10,M)),console.log(new B(1,c,10,M))),l>0&&(R(new B(2,l,5,M)),console.log(new B(2,l,5,M))),F()):P.push("/login")},children:"Confirm"}),Object(g.jsx)(h.a,{variant:"outlined",onClick:F,children:"Cancel"})]})]})},q=a(299),F=a(306),P=a(309),R=a(307),B=a(308),L=(a.p,a.p,a.p,a.p,a.p,a.p,Object(q.a)({listCategory:{textTransform:"uppercase",fontWeight:"bold",paddingTop:"10px"},divider:{height:"5px",backgroundColor:"green",width:"100%"},grid:{padding:"10px"}})),Y=Object(q.a)({root:{width:"280px",display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{height:140}}),W=function(e){var t=e.name,a=e.description,n=e.image,c=e.id,i=Object(o.g)().url,r=Y();return Object(g.jsx)("div",{children:Object(g.jsxs)(_.a,{className:r.root,children:[Object(g.jsx)("div",{children:Object(g.jsxs)(F.a,{children:[Object(g.jsx)(R.a,{className:r.media,image:n,title:"Contemplative Reptile"}),Object(g.jsxs)(y.a,{children:[Object(g.jsx)(k.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(g.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:a})]})]})}),Object(g.jsx)("div",{children:Object(g.jsx)(B.a,{style:{textDecoration:"none"},href:"".concat(i,"/").concat(c),children:Object(g.jsx)(P.a,{children:Object(g.jsx)(h.a,{size:"small",color:"primary",children:"Learn More"})})})})]})})},U=function(){var e=L(),t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){z.a.get("https://zoo-backend-test.herokuapp.com/locations/all_enclsoures").then((function(e){console.log(e),console.log(e.data),i(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(g.jsxs)("div",{className:e.categoryContainer,children:[Object(g.jsx)(k.a,{className:e.listCategory,children:"Enclosures"}),Object(g.jsx)(v.a,{direction:"row",container:!0,spacing:2,className:e.grid,children:c.map((function(e,t){return Object(g.jsx)(v.a,{item:!0,children:Object(g.jsx)(W,{name:e.location_name,image:"/uploads/".concat(e.location_image),id:e.location_id})},t)}))})]})},Z=a(59),$=a(305),H=a(320),V=Object(q.a)((function(e){return{root:{padding:e.spacing(1),width:"50ch",position:"fixed",top:"25%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",marginTop:e.spacing(2)},formTitle:{fontWeight:"bold",textTransform:"uppercase"},signUp:{float:"left"}}}));var J=function(e){var t=V(),a=Object(n.useContext)(S).login,c=Object(n.useState)(null),i=Object(d.a)(c,2),r=i[0],s=i[1],l=Object(o.f)(),j=Object(Z.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.full_name||(t.password="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.email.length>25&&(t.email="Max 25 characters"):t.email="Invalid email address":t.email="Required",e.password.length<4&&(t.password="Minimum 4 characters"),t},onSubmit:function(e){!function(e){z.a.post("https://zoo-backend-test.herokuapp.com/signup",{full_name:e.full_name,email:e.email,password:e.password,role_id:"Admin"}).then((function(e){console.log(e),a(e.data.full_name,e.data.role_id,e.data.user_id),l.push("/")})).catch((function(e){console.log(e.response),console.log("Errors: ",e.response.data);var t=e.response.data.errors,a={email:"",password:""};Array.isArray(t)?(t.forEach((function(e){a[e.param]=e.msg})),O(a)):s(e.response.data.error)}))}(e)}}),u=Object(n.useState)({email:"",password:""}),b=Object(d.a)(u,2),m=b[0],O=b[1];return Object(g.jsxs)(v.a,{container:!0,spacing:1,direction:"column",className:t.root,children:[Object(g.jsx)(k.a,{className:t.formTitle,children:"Sign Up"}),r?Object(g.jsx)(H.a,{severity:"error",style:{paddingBottom:"10px"},children:r}):null,Object(g.jsx)(v.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{label:"Full Name",id:"full_name",onChange:j.handleChange,name:"full_name",variant:"outlined",style:{width:"100%"},error:m.full_name||j.errors.full_name,helperText:""!==m.full_name?m.full_name:""!==j.errors.full_name?j.errors.full_name:""})}),Object(g.jsx)(v.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{label:"Email",id:"email",onChange:j.handleChange,name:"email",variant:"outlined",style:{width:"100%"},error:m.email||j.errors.email,helperText:""!==m.email?m.email:""!==j.errors.email?j.errors.email:""})}),Object(g.jsx)(v.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{label:"Password",id:"password",name:"password",onChange:j.handleChange,variant:"outlined",style:{width:"100%"},error:m.password||j.errors.password,helperText:""!==m.password?m.password:""!==j.errors.password?j.errors.password:""})}),Object(g.jsx)(h.a,{onClick:j.handleSubmit,variant:"contained",size:"large",color:"primary",children:"Sign Up"})]})},G=Object(q.a)((function(e){return{root:{padding:e.spacing(1),width:"50ch",position:"fixed",top:"25%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",marginTop:e.spacing(2)},formTitle:{fontWeight:"bold",textTransform:"uppercase"},signUp:{float:"left"}}})),K=function(e){var t=G(),a=Object(n.useContext)(S),c=a.login,i=(a.logout,Object(o.f)()),r=Object(n.useState)(),l=Object(d.a)(r,2),j=(l[0],l[1]),u=Object(n.useState)(null),b=Object(d.a)(u,2),m=b[0],O=b[1],p=Object(Z.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.email.length>25&&(t.email="Max 25 characters"):t.email="Invalid email address":t.email="Required",e.password.length<4&&(t.password="Minimum 4 characters"),t},onSubmit:function(e){!function(e){z.a.post("https://zoo-backend-test.herokuapp.com/login",{email:e.email,password:e.password}).then((function(e){console.log(e),c(e.data.full_name,e.data.role_id,e.data.user_id),console.log("Login successful"),i.push("/")})).catch((function(e){console.log(e.response),console.log("Errors: ",e.response.data);var t=e.response.data.errors,a={email:"",password:""};Array.isArray(t)?(t.forEach((function(e){a[e.param]=e.msg})),j(a)):O(e.response.data.error)}))}(e)}});return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(v.a,{container:!0,spacing:1,direction:"column",className:t.root,children:[Object(g.jsx)(k.a,{className:t.formTitle,children:"Log In"}),m?Object(g.jsx)(H.a,{severity:"error",style:{paddingBottom:"10px"},children:m}):null,Object(g.jsx)(v.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{label:"Username",id:"email",onChange:p.handleChange,name:"email",variant:"outlined",style:{width:"100%"},error:p.errors.email,helperText:""!==p.errors.email?p.errors.email:""})}),Object(g.jsx)(v.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{label:"Password",id:"password",name:"password",onChange:p.handleChange,variant:"outlined",style:{width:"100%"},error:p.errors.password,helperText:""!==p.errors.password?p.errors.password:""})}),Object(g.jsx)(s.b,{to:"/create",children:Object(g.jsx)(k.a,{className:t.signUp,children:"Sign Up"})}),Object(g.jsx)(h.a,{onClick:p.handleSubmit,variant:"contained",size:"large",color:"primary",children:"Log In"})]})})},Q=a(257),X=a(263),ee=a(255),te=a(258),ae=a(260),ne=Object(q.a)({select:{minWidth:150},errMessage:{color:"red"}}),ce=function(){var e=ne(),t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)([]),s=Object(d.a)(r,2),o=s[0],l=s[1],j=Object(n.useState)({date_arrived:null,deceased_date:null,birth_day:null,location:"",animal_name:""}),u=Object(d.a)(j,2);u[0],u[1];Object(n.useEffect)((function(){z.a.get("https://zoo-backend-test.herokuapp.com/enclosures").then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.log(e)})),z.a.get("https://zoo-backend-test.herokuapp.com/species").then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.log(e)}))}),[]);var b=Object(Z.a)({initialValues:{date_arrived:"",deceased_date:null,birth_day:"",location:"",animal_name:"",species:""},validate:function(e){var t={};return e.animal_name||(t.animal_name="Required"),e.location||(t.location="Required"),e.date_arrived||(t.date_arrived="Required"),e.birth_day||(t.birth_day="Required"),e.species||(t.species="Required"),t},onSubmit:function(e){!function(e){console.log("handleSubmit called"),z.a.post("https://zoo-backend-test.herokuapp.com/animals",{date_arrived:e.date_arrived,deceased_date:e.deceased_date,birth_day:e.birth_day,location:e.location,animal_name:e.animal_name,species:e.species}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(e)}});return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("form",{className:"form",children:[Object(g.jsx)(k.a,{children:"Add Animal to Zoo"}),Object(g.jsxs)(v.a,{container:!0,spacing:2,children:[Object(g.jsx)(v.a,{item:!0,children:Object(g.jsxs)(Q.a,{children:[Object(g.jsx)(X.a,{htmlFor:"name",children:"Name"}),Object(g.jsx)(ee.a,{id:"name",onChange:b.handleChange,name:"animal_name",error:b.errors.animal_name}),Object(g.jsx)(te.a,{className:e.errMessage,children:b.errors.animal_name})]})}),Object(g.jsx)(v.a,{item:!0,children:Object(g.jsxs)(Q.a,{children:[Object(g.jsx)(X.a,{id:"enclosureName",children:"Enclosure Name"}),Object(g.jsx)(ae.a,{labelId:"enclosureName",onChange:b.handleChange,name:"location",error:b.errors.location,className:e.select,children:c.map((function(e,t){return Object(g.jsx)(p.a,{value:e.location_id,children:e.location_name},t)}))}),Object(g.jsx)(te.a,{className:e.errMessage,children:b.errors.location})]})}),Object(g.jsx)(v.a,{item:!0,children:Object(g.jsxs)(Q.a,{children:[Object(g.jsx)(X.a,{id:"species",children:"Species"}),Object(g.jsx)(ae.a,{labelId:"species",onChange:b.handleChange,name:"species",error:b.errors.species,className:e.select,children:o.map((function(e,t){return Object(g.jsx)(p.a,{value:e.species_id,children:e.species_name},t)}))}),Object(g.jsx)(te.a,{className:e.errMessage,children:b.errors.species})]})}),Object(g.jsx)(v.a,{item:!0,children:Object(g.jsxs)(Q.a,{children:[Object(g.jsx)(X.a,{id:"dob",shrink:!0,children:"Date of Birth"}),Object(g.jsx)(ee.a,{labelId:"dob",type:"date",onChange:b.handleChange,error:b.errors.birth_day,name:"birth_day"}),Object(g.jsx)(te.a,{className:e.errMessage,children:b.errors.birth_day})]})}),Object(g.jsx)(v.a,{item:!0,children:Object(g.jsxs)(Q.a,{children:[Object(g.jsx)(X.a,{id:"dob",shrink:!0,children:"Arrival Date"}),Object(g.jsx)(ee.a,{labelId:"dob",type:"date",defaultValue:(new Date).toDateString(),onChange:b.handleChange,error:b.errors.date_arrived,name:"date_arrived"}),Object(g.jsx)(te.a,{className:e.errMessage,children:b.errors.date_arrived})]})}),Object(g.jsx)(v.a,{item:!0,children:Object(g.jsx)(h.a,{variant:"outlined",onClick:b.handleSubmit,type:"submit",children:"Add Animal"})})]})]})})},ie=a(310),re=a(321),se=a(317),oe=a(300),le=a(301),de=a(312),je=a(316),he=a(315),ue=a(311),be=a(313),me=a(314),Oe=function(e){var t=e.match,a=Object(n.useContext)(S).user,c=Object(o.f)();console.log(c);var i=Object(n.useState)(!0),r=Object(d.a)(i,2),s=r[0],j=r[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),O=b[0],x=b[1],f=Object(n.useState)({animal_name:""}),v=Object(d.a)(f,2),_=v[0],y=v[1],C=Object(n.useState)(!1),w=Object(d.a)(C,2),N=(w[0],w[1],Object(n.useState)([])),I=Object(d.a)(N,2),A=I[0],T=I[1],D=Object(n.useState)({}),E=Object(d.a)(D,2),M=E[0],q=E[1];return Object(n.useEffect)((function(){z.a.get("https://zoo-backend-test.herokuapp.com/locations/enclosure/by_id",{params:{location:t.params.id}}).then((function(e){console.log("Enclosure: ",e),q(e.data[0])})).catch((function(e){console.log(e)})),z.a.get("https://zoo-backend-test.herokuapp.com/animals/list_by_enclosure/",{params:{location:t.params.id}}).then((function(e){console.log(e),T(e.data),j(!1)})).catch((function(e){console.log(e)}))}),[]),Object(g.jsx)("div",{style:{padding:"10px"},children:s?Object(g.jsx)(ie.a,{color:"primary"}):Object(g.jsx)(g.Fragment,{children:A.length>0?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k.a,{children:"Animals in ".concat(M.location_name," Enclosure")}),Object(g.jsx)(ue.a,{component:m.a,style:{width:800,paddingTop:"10px"},children:Object(g.jsxs)(de.a,{"aria-label":"simple table",children:[Object(g.jsx)(be.a,{children:Object(g.jsxs)(me.a,{children:[Object(g.jsx)(he.a,{children:"Name "}),Object(g.jsx)(he.a,{align:"right",children:"Species"}),Object(g.jsx)(he.a,{align:"right",children:"Date of Birth"}),Object(g.jsx)(he.a,{align:"right",children:"Date Arrived"}),Object(g.jsx)(he.a,{align:"right",children:"Health Status"}),"Employee"==a.role?Object(g.jsx)(he.a,{align:"right",children:"Actions"}):null]})}),Object(g.jsx)(je.a,{children:A.map((function(e){return Object(g.jsxs)(me.a,{children:[Object(g.jsx)(he.a,{component:"th",scope:"row",children:e.animal_name}),Object(g.jsx)(he.a,{align:"right",children:e.species_name}),Object(g.jsx)(he.a,{align:"right",children:e.birth_day}),Object(g.jsx)(he.a,{align:"right",children:e.date_arrived}),Object(g.jsx)(he.a,{align:"right",children:e.health_status}),"Employee"==a.role?Object(g.jsx)(he.a,{align:"right",children:Object(g.jsx)(h.a,{variant:"outlined",onClick:function(){!function(e){console.log("Animal",e),y(e),x(!0)}(e)},children:"Edit"})}):null]},e.animal_id)}))})]})}),Object(g.jsx)("div",{children:Object(g.jsxs)(re.a,{open:O,children:[Object(g.jsxs)(se.a,{children:["Change the Health of ",_.animal_name]}),Object(g.jsx)(oe.a,{children:Object(g.jsxs)(ae.a,{id:"health_status",value:_.health_status,onChange:function(e){y(Object(l.a)(Object(l.a)({},_),{},{health_status:e.target.value}))},children:[Object(g.jsx)(p.a,{value:"Healthy",children:"Healthy"}),Object(g.jsx)(p.a,{value:"Sick",children:"Sick"}),Object(g.jsx)(p.a,{value:"Deceased",children:"Deceased"})]})}),Object(g.jsxs)(le.a,{children:[Object(g.jsx)(h.a,{onClick:function(){z.a.put("https://zoo-backend-test.herokuapp.com/animals/change_health",_).then((function(e){x(!1),console.log(e)})).catch((function(e){x(!0),console.log(e)}))},variant:"contained",color:"secondary",children:"Save"}),Object(g.jsx)(h.a,{onClick:function(){x(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})})]}):Object(g.jsx)(k.a,{style:{padding:"10px"},children:"No Animals"})})})},pe=a(318),xe=a(304),ge=a(303),fe=a(164),ve=a.n(fe),_e=a(165),ye=a.n(_e);var ke=function(){var e=Object(n.useContext)(S),t=e.user,a=(e.login,e.logout),c=Object(o.f)();return Object(g.jsx)("div",{children:Object(g.jsx)(pe.a,{position:"static",children:Object(g.jsxs)(xe.a,{variant:"dense",style:{padding:0},children:[Object(g.jsx)(ge.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){c.push("/")},children:Object(g.jsx)(ve.a,{})}),Object(g.jsx)(k.a,{variant:"h6",children:"Better Houston Zoo"}),!t.auth&&Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{onClick:function(){c.push("/login")},children:"Log in"}),Object(g.jsx)(h.a,{onClick:function(){c.push("/create")},children:"Sign up"})]}),t.auth&&Object(g.jsxs)("div",{children:[Object(g.jsxs)(h.a,{children:["Welcome, ",t.name]}),Object(g.jsx)(ge.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){c.push("/")},children:Object(g.jsx)(ye.a,{})}),Object(g.jsx)(h.a,{onClick:function(){c.push("/"),a()},children:"Sign out"}),"Admin"==t.role||"Employee"==t.role?Object(g.jsx)(h.a,{onClick:function(e){"Admin"==e?c.push("/employee_dashboard"):c.push("/admin_dashboard")},children:"Dash Board"}):null]})]})})})},Ce=a(101),Se=a.n(Ce),we=a(166),Ne=(a(249),function(){var e=c.a.useState([]),t=Object(d.a)(e,2),a=t[0],n=t[1];c.a.useEffect((function(){i()}),[]);var i=function(){var e=Object(we.a)(Se.a.mark((function e(){var t;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get("database-1.cmkw6xcxraqi.us-east-1.rds.amazonaws.com");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{id:"title",children:"Purchase History"}),Object(g.jsxs)("table",{id:"customer",children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:["id","name","purchase date","item","quantity","total cost"].map((function(e,t){return Object(g.jsx)("th",{children:e.toUpperCase()},t)}))})}),Object(g.jsx)("tbody",{children:a&&a.map((function(e){var t=e.id,a=e.name,n=e.date,c=e.item,i=e.quantity,r=e.cost;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t}),Object(g.jsx)("td",{children:a}),Object(g.jsx)("td",{children:n}),Object(g.jsx)("td",{children:c}),Object(g.jsx)("td",{children:i}),Object(g.jsx)("td",{children:r})]},t)}))})]})]})});var Ie=function(){return Object(n.useContext)(S).user,Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"primary",children:Object(g.jsx)("div",{className:"primary-container",children:Object(g.jsx)("h4",{className:"title",children:" Zoovenirs "})})}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"multiline"}),Object(g.jsx)("div",{children:" Some Item "}),Object(g.jsx)("button",{children:" Purchase "})]})]})},Ae=(a(250),Object(q.a)({listCategory:{textTransform:"uppercase",fontWeight:"bold",paddingTop:"10px"},divider:{height:"5px",backgroundColor:"green",width:"100%"},grid:{padding:"10px"}})),Te=Object(q.a)({root:{width:"280px",display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{height:140}}),De=function(e){var t=e.name,a=e.description,n=e.image,c=e.id,i=Object(o.g)().url,r=Te();return Object(g.jsx)("div",{children:Object(g.jsxs)(_.a,{className:r.root,children:[Object(g.jsx)("div",{children:Object(g.jsxs)(F.a,{children:[Object(g.jsx)(R.a,{className:r.media,image:n,title:"Contemplative Reptile"}),Object(g.jsxs)(y.a,{children:[Object(g.jsx)(k.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(g.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:a})]})]})}),Object(g.jsx)("div",{children:Object(g.jsx)(B.a,{style:{textDecoration:"none"},href:"".concat(i,"/").concat(c),children:Object(g.jsx)(P.a,{children:Object(g.jsx)(h.a,{size:"small",color:"primary",children:"Learn More"})})})})]})})},Ee=function(){var e=Ae(),t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){z.a.get("https://zoo-backend-test.herokuapp.com/locations/all_gift_shops").then((function(e){console.log(e),console.log(e.data),i(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(g.jsxs)("div",{className:e.categoryContainer,children:[Object(g.jsx)(k.a,{className:e.listCategory,children:"Gift Shops"}),Object(g.jsx)(v.a,{direction:"row",container:!0,spacing:2,className:e.grid,children:c.map((function(e,t){return Object(g.jsx)(v.a,{item:!0,children:Object(g.jsx)(De,{name:e.location_name,image:"/uploads/".concat(e.location_image),id:e.location_id})},t)}))})]})},ze=a(40),Me=function(e){var t=e.match,a=Array.from({length:10},(function(e,t){return{value:t+1}}));console.log(a);var c=Object(n.useContext)(S).user,i=(Object(o.f)(),Object(n.useState)(!0)),r=Object(d.a)(i,2),s=r[0],j=r[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),O=b[0],x=b[1],f=Object(n.useState)({}),v=Object(d.a)(f,2),_=v[0],y=v[1],C=Object(n.useState)(!1),w=Object(d.a)(C,2),N=(w[0],w[1],Object(n.useState)([])),I=Object(d.a)(N,2),A=I[0],T=I[1],D=Object(n.useState)({}),E=Object(d.a)(D,2),M=E[0],q=E[1];return Object(n.useEffect)((function(){z.a.get("https://zoo-backend-test.herokuapp.com/locations/by_id",{params:{location:t.params.id}}).then((function(e){q(e.data[0])})).catch((function(e){console.log(e)})),z.a.get("https://zoo-backend-test.herokuapp.com/merchandise/all_products/",{params:{location:t.params.id}}).then((function(e){console.log(e);var t=e.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{quantity_selected:0,amount_due:0})}));T(t),j(!1)})).catch((function(e){console.log(e)}))}),[]),Object(g.jsx)("div",{style:{padding:"10px"},children:s?Object(g.jsx)(ie.a,{color:"primary"}):Object(g.jsx)(g.Fragment,{children:A.length>0?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k.a,{children:"Products in ".concat(M.location_name," Enclosure")}),Object(g.jsx)(ue.a,{component:m.a,style:{width:800,paddingTop:"10px"},children:Object(g.jsxs)(de.a,{"aria-label":"simple table",children:[Object(g.jsx)(be.a,{children:Object(g.jsxs)(me.a,{children:[Object(g.jsx)(he.a,{children:"Product Name "}),Object(g.jsx)(he.a,{align:"right",children:"Product Price"}),Object(g.jsx)(he.a,{align:"right",children:"Select Quntity"}),"Customer"==c.role?Object(g.jsx)(he.a,{align:"right",children:"Actions"}):null]})}),Object(g.jsx)(je.a,{children:A.map((function(e){return Object(g.jsxs)(me.a,{children:[Object(g.jsx)(he.a,{component:"th",scope:"row",children:e.product_name}),Object(g.jsx)(he.a,{align:"right",children:e.price}),Object(g.jsx)(he.a,{align:"right",children:Object(g.jsx)(ae.a,{name:"quantity_selected",style:{width:"75px"},value:e.quantity_selected,onChange:function(t){!function(e,t){var a=A.findIndex((function(e){return e.item_id==t.item_id})),n=Object(ze.a)(A);n[a]=Object(l.a)(Object(l.a)({},n[a]),{},{quantity_selected:e.target.value,amount_due:e.target.value*t.price}),T(n)}(t,e)},children:a.map((function(e){return Object(g.jsx)(p.a,{value:e.value,children:e.value},e.value)}))})}),"Customer"==c.role?Object(g.jsx)(he.a,{align:"right",children:Object(g.jsx)(h.a,{variant:"outlined",disabled:0==e.quantity_selected,onClick:function(){!function(e){y(e),x(!0)}(e)},children:"Buy"})}):null]},e.product_id)}))})]})}),Object(g.jsx)("div",{children:Object(g.jsxs)(re.a,{open:O,children:[Object(g.jsx)(se.a,{children:"Transaction Details"}),Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(k.a,{children:"The Total Cost of ".concat(_.product_name," is $").concat(_.amount_due)}),Object(g.jsx)(k.a,{children:"Are you sure you want to buy?"})]}),Object(g.jsxs)(le.a,{children:[Object(g.jsx)(h.a,{onClick:function(){z.a.post("https://zoo-backend-test.herokuapp.com/merchandise/buy",Object(l.a)({user_id:c.userID},_)).then((function(e){x(!1),console.log(e)})).catch((function(e){x(!0),console.log(e)}))},variant:"contained",color:"secondary",children:"CONFIRM"}),Object(g.jsx)(h.a,{onClick:function(){x(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})})]}):Object(g.jsx)(k.a,{style:{padding:"10px"},children:"No Products"})})})},qe=Object(q.a)({select:{minWidth:150},errMessage:{color:"red"}}),Fe=function(){qe();var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),r=Object(d.a)(i,2),s=r[0],o=r[1],j=Object(n.useState)(!1),u=Object(d.a)(j,2),b=u[0],O=(u[1],Object(n.useState)({full_name:"",work_location:""})),x=Object(d.a)(O,2),f=x[0],v=x[1],_=Object(n.useState)([]),y=Object(d.a)(_,2),C=y[0],w=y[1],N=Object(n.useContext)(S).user;Object(n.useEffect)((function(){z.a.get("https://zoo-backend-test.herokuapp.com/employees/all").then((function(e){console.log(e.data),c(e.data)})).catch((function(e){console.log(e)})),z.a.get("https://zoo-backend-test.herokuapp.com/locations").then((function(e){console.log(e.data),w(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(g.jsx)("div",{style:{padding:"10px"},children:b?Object(g.jsx)(ie.a,{color:"primary"}):Object(g.jsx)(g.Fragment,{children:a.length>0&&C.length>0?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k.a,{children:"All Employees"}),Object(g.jsx)(ue.a,{component:m.a,style:{width:800,paddingTop:"10px"},children:Object(g.jsxs)(de.a,{"aria-label":"simple table",children:[Object(g.jsx)(be.a,{children:Object(g.jsxs)(me.a,{children:[Object(g.jsx)(he.a,{children:"Name "}),Object(g.jsx)(he.a,{align:"right",children:"Job Title"}),Object(g.jsx)(he.a,{align:"right",children:"Wage"}),Object(g.jsx)(he.a,{align:"right",children:"Work Location"}),"Admin"==N.role?Object(g.jsx)(he.a,{align:"right",children:"Actions"}):null]})}),Object(g.jsx)(je.a,{children:a.map((function(e){return Object(g.jsxs)(me.a,{children:[Object(g.jsx)(he.a,{component:"th",scope:"row",children:e.full_name}),Object(g.jsx)(he.a,{align:"right",children:e.job_title}),Object(g.jsx)(he.a,{align:"right",children:e.wage}),Object(g.jsx)(he.a,{align:"right",children:e.location_name}),"Admin"==N.role?Object(g.jsx)(he.a,{align:"right",children:Object(g.jsx)(h.a,{variant:"outlined",onClick:function(){!function(e){v(e),o(!0)}(e)},children:"Edit"})}):null]},e.employee_id)}))})]})}),Object(g.jsx)("div",{children:Object(g.jsxs)(re.a,{open:s,children:[Object(g.jsxs)(se.a,{children:["Change the Work location of ",f.full_name]}),Object(g.jsx)(oe.a,{children:Object(g.jsx)(ae.a,{id:"health_status",value:f.work_location,onChange:function(e){var t=Object(l.a)(Object(l.a)({},f),{},{work_location:e.target.value});v(t)},children:C.map((function(e){return Object(g.jsx)(p.a,{value:e.location_id,children:e.location_name},e.location_id)}))})}),Object(g.jsxs)(le.a,{children:[Object(g.jsx)(h.a,{onClick:function(){z.a.put("https://zoo-backend-test.herokuapp.com/employees/change_work_location",{new_location:f.work_location,employee_id:f.employee_id}).then((function(e){console.log(e),o(!1)})).catch((function(e){console.log(e)}))},variant:"contained",color:"secondary",children:"Save"}),Object(g.jsx)(h.a,{onClick:function(){o(!1)},variant:"contained",color:"secondary",children:"CANCEL"})]})]})})]}):Object(g.jsx)(k.a,{style:{padding:"10px"},children:"No Animals"})})})};var Pe=function(){return null===sessionStorage.getItem("auth")&&sessionStorage.setItem("auth",!1),null===sessionStorage.getItem("username")&&sessionStorage.setItem("username","guest"),null===sessionStorage.getItem("role")&&sessionStorage.setItem("role",null),null===sessionStorage.getItem("userID")&&sessionStorage.setItem("userID",null),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(s.a,{children:[Object(g.jsx)(ke,{}),Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{exact:!0,path:"/",component:f}),Object(g.jsx)(o.a,{exact:!0,path:"/ticket",component:M}),Object(g.jsx)(o.a,{exact:!0,path:"/giftshops",component:Ee}),Object(g.jsx)(o.a,{exact:!0,path:"/giftshops/:id",component:Me}),Object(g.jsx)(o.a,{exact:!0,path:"/enclosure",component:U}),Object(g.jsx)(o.a,{exact:!0,path:"/enclosure/:id",component:Oe}),Object(g.jsx)(o.a,{exact:!0,path:"/create",component:J}),Object(g.jsx)(o.a,{exact:!0,path:"/login",component:K}),Object(g.jsx)(o.a,{exact:!0,path:"/employee_dashboard",component:ce}),Object(g.jsx)(o.a,{exact:!0,path:"/admin_dashboard",component:Fe}),Object(g.jsx)(o.a,{exact:!0,path:"/history",component:Ne}),Object(g.jsx)(o.a,{exact:!0,path:"/shop",component:Ie})]})]})})},Re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,325)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};z.a.defaults.baseURL="http://localhost:5000",r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(w,{children:Object(g.jsx)(Pe,{})})}),document.getElementById("root")),Re()}},[[251,1,2]]]);
//# sourceMappingURL=main.2ba1fb47.chunk.js.map